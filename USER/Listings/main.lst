


ARM Macro Assembler    Page 1 


    1 00000000         ;
    2 00000000         ; µ—È√˚≥∆£∫LED—” ±…¡À∏ µ—È
    3 00000000         ;
    4 00000000         ;”≤º˛ƒ£øÈ£∫º∆À„ª˙‘≠¿Ì”¶”√ µ—Èœ‰
    5 00000000         ;
    6 00000000         ;”≤º˛Ω”œﬂ£∫ARM P12Ω”ø⁄---------LED P2Ω”ø⁄
    7 00000000         ;           PC0~PC7----------LED0~LED7
    8 00000000         ;       ◊¢£∫ø… π”√20P≈≈œﬂ÷±¡¨P12°¢P2Ω”ø⁄°£
    9 00000000         ;      
   10 00000000         ; µ—Èœ÷œÛ£∫LEDµ∆√ø500∫¡√ÎµÁ∆Ω∑≠◊™“ª¥Œ£¨ µœ÷—” ±…¡À∏–ßπ˚°
                       £
   11 00000000         ;
   12 00000000         ;∏¸–¬ ±º‰£∫2018-10-11
   13 00000000         ;*******************************************************
                       *******
   14 00000000                 THUMB
   15 00000000                 REQUIRE8
   16 00000000                 PRESERVE8
   17 00000000         
   18 00000000 00000000 
                       __ARM_use_no_argv
                               EQU              0
   19 00000000         
   20 00000000         ; define several constants
   21 00000000         ; e.g. .equ OFFSET,0x00 is for GNU assembler (GNU ª„±‡).
                        We should use standard assember like: OFFSET EQU 0x00
   22 00000000 40020800 
                       GPIOC_BASE
                               EQU              0x40020800  ; base address, can
                                                             be found in STM32F
                                                            4xx manual, P53
   23 00000000 00000000 
                       GPIOC_MODER_OFFSET
                               EQU              0x00
   24 00000000 00000014 
                       GPIOC_ODR_OFFSET
                               EQU              0x14
   25 00000000         
   26 00000000 40020800 
                       GPIOC_MODER
                               EQU              GPIOC_BASE + GPIOC_MODER_OFFSET
   27 00000000 40020814 
                       GPIOC_ODR
                               EQU              GPIOC_BASE + GPIOC_ODR_OFFSET
   28 00000000         
   29 00000000         ; @RCC:    AHB1ENR
   30 00000000         ; @rcc base:        0x4002 3800
   31 00000000 40023800 
                       RCC_BASE
                               EQU              0x40023800
   32 00000000 00000030 
                       RCC_AHB1ENR_OFFSET
                               EQU              0x30
   33 00000000         
   34 00000000 40023830 
                       RCC_AHB1ENR
                               EQU              RCC_BASE + RCC_AHB1ENR_OFFSET
   35 00000000         
   36 00000000 00000004 



ARM Macro Assembler    Page 2 


                       GPIOC_EN
                               EQU              1<<2
   37 00000000         
   38 00000000 00000001 
                       MODER0_OUT
                               EQU              1<<0
   39 00000000 00000004 
                       MODER1_OUT
                               EQU              1<<2        ; every port occupi
                                                            es 2 places, and se
                                                            t to 01 for univers
                                                            al output mode, whi
                                                            ch can be found in 
                                                            STM32F4xx manual, P
                                                            187
   40 00000000 00000010 
                       MODER2_OUT
                               EQU              1<<4
   41 00000000 00000040 
                       MODER3_OUT
                               EQU              1<<6
   42 00000000 00000100 
                       MODER4_OUT
                               EQU              1<<8
   43 00000000 00000400 
                       MODER5_OUT
                               EQU              1<<10
   44 00000000 00001000 
                       MODER6_OUT
                               EQU              1<<12
   45 00000000 00004000 
                       MODER7_OUT
                               EQU              1<<14
   46 00000000         
   47 00000000 00000001 
                       LED0_ON EQU              1<<0
   48 00000000 00000000 
                       LED0_OFF
                               EQU              0<<0
   49 00000000 00000002 
                       LED1_ON EQU              1<<1
   50 00000000 00000000 
                       LED1_OFF
                               EQU              0<<1
   51 00000000 00000004 
                       LED2_ON EQU              1<<2
   52 00000000 00000000 
                       LED2_OFF
                               EQU              0<<2
   53 00000000 00000008 
                       LED3_ON EQU              1<<3
   54 00000000 00000000 
                       LED3_OFF
                               EQU              0<<3
   55 00000000 00000010 
                       LED4_ON EQU              1<<4
   56 00000000 00000000 
                       LED4_OFF
                               EQU              0<<4



ARM Macro Assembler    Page 3 


   57 00000000 00000020 
                       LED5_ON EQU              1<<5
   58 00000000 00000000 
                       LED5_OFF
                               EQU              0<<5
   59 00000000 00000040 
                       LED6_ON EQU              1<<6
   60 00000000 00000000 
                       LED6_OFF
                               EQU              0<<6
   61 00000000 00000080 
                       LED7_ON EQU              1<<7
   62 00000000 00000000 
                       LED7_OFF
                               EQU              0<<7
   63 00000000         
   64 00000000                 EXPORT           __ARM_use_no_argv
   65 00000000                 EXPORT           main
   66 00000000         
   67 00000000                 IMPORT           Delay_Init
   68 00000000                 IMPORT           Delay_Ms
   69 00000000         
   70 00000000                 AREA             ||i.main||, CODE, READONLY, ALI
GN=2
   71 00000000         
   72 00000000         |GPIOC|                              ; use the port of C
                                                            
   73 00000000 40021400        DCD              0x40021400
   74 00000004         ;int main(void)  
   75 00000004         main    PROC                         ; compile instructi
                                                            on (±‡“Î÷∏ æ÷∏¡Ó), 
                                                            which indicates it'
                                                            s a sub-function (◊
                                                            ”∫Ø ˝)
   76 00000004         ; RCC->AHB1ENR |= GPIOC_EN
   77 00000004         ; Load address of RCC_AHB1ENR(Enable Register) to r0
   78 00000004 4845            LDR              R0,=RCC_AHB1ENR
   79 00000006         ; Load value at the address found in r0 into r1
   80 00000006 6801            LDR              R1,[R0]
   81 00000008         
   82 00000008 F041 0104       ORR              R1,#GPIOC_EN ; set to 1
   83 0000000C         ; Store the content in R1 to the address found in r0
   84 0000000C 6001            STR              R1,[R0]
   85 0000000E         
   86 0000000E         ; GPIOC->MODER |= MODER13_OUT
   87 0000000E         ; the default value of MODE register is 00, which is inp
                       ut mode
   88 0000000E 4844            LDR              R0,=GPIOC_MODER
   89 00000010 6801            LDR              R1,[R0]
   90 00000012 F041 0101       ORR              R1,#MODER0_OUT
   91 00000016 F041 0104       ORR              R1,#MODER1_OUT
   92 0000001A F041 0110       ORR              R1,#MODER2_OUT
   93 0000001E F041 0140       ORR              R1,#MODER3_OUT
   94 00000022 F441 7180       ORR              R1,#MODER4_OUT
   95 00000026 F441 6180       ORR              R1,#MODER5_OUT
   96 0000002A F441 5180       ORR              R1,#MODER6_OUT
   97 0000002E F441 4180       ORR              R1,#MODER7_OUT
   98 00000032 6001            STR              R1,[R0]
   99 00000034         



ARM Macro Assembler    Page 4 


  100 00000034 F7FF FFFE       BL               Delay_Init  ;delay initialize
  101 00000038         
  102 00000038         ; GPIOC->ODR |= LED_ON
  103 00000038         ;LDR  R0,=GPIOC_ODR
  104 00000038         ;LDR  R1,=LED7_ON
  105 00000038         ;STR  R1,[R0] 
  106 00000038         ;MOV     r0,#0x1f4
  107 00000038         ; BL      Delay_Ms
  108 00000038         
  109 00000038         |loop|
  110 00000038 483A            LDR              R0,=GPIOC_ODR
  111 0000003A F04F 0180       LDR              R1,=LED7_ON
  112 0000003E 6001            STR              R1,[R0]
  113 00000040 F44F 70FA       MOV              r0,#0x1f4
  114 00000044 F7FF FFFE       BL               Delay_Ms    ; delay 500ms
  115 00000048 4836            LDR              R0,=GPIOC_ODR
  116 0000004A F04F 0100       LDR              R1,=LED7_OFF
  117 0000004E 6001            STR              R1,[R0]
  118 00000050 F44F 70FA       MOV              r0,#0x1f4
  119 00000054         
  120 00000054 4833            LDR              R0,=GPIOC_ODR
  121 00000056 F04F 0140       LDR              R1,=LED6_ON
  122 0000005A 6001            STR              R1,[R0]
  123 0000005C F44F 70FA       MOV              r0,#0x1f4
  124 00000060 F7FF FFFE       BL               Delay_Ms    ; delay 500ms
  125 00000064 482F            LDR              R0,=GPIOC_ODR
  126 00000066 F04F 0100       LDR              R1,=LED6_OFF
  127 0000006A 6001            STR              R1,[R0]
  128 0000006C F44F 70FA       MOV              r0,#0x1f4
  129 00000070         
  130 00000070 482C            LDR              R0,=GPIOC_ODR
  131 00000072 F04F 0120       LDR              R1,=LED5_ON
  132 00000076 6001            STR              R1,[R0]
  133 00000078 F44F 70FA       MOV              r0,#0x1f4
  134 0000007C F7FF FFFE       BL               Delay_Ms    ; delay 500ms
  135 00000080 4828            LDR              R0,=GPIOC_ODR
  136 00000082 F04F 0100       LDR              R1,=LED5_OFF
  137 00000086 6001            STR              R1,[R0]
  138 00000088 F44F 70FA       MOV              r0,#0x1f4
  139 0000008C         
  140 0000008C 4825            LDR              R0,=GPIOC_ODR
  141 0000008E F04F 0110       LDR              R1,=LED4_ON
  142 00000092 6001            STR              R1,[R0]
  143 00000094 F44F 70FA       MOV              r0,#0x1f4
  144 00000098 F7FF FFFE       BL               Delay_Ms    ; delay 500ms
  145 0000009C 4821            LDR              R0,=GPIOC_ODR
  146 0000009E F04F 0100       LDR              R1,=LED4_OFF
  147 000000A2 6001            STR              R1,[R0]
  148 000000A4 F44F 70FA       MOV              r0,#0x1f4
  149 000000A8         
  150 000000A8 481E            LDR              R0,=GPIOC_ODR
  151 000000AA F04F 0108       LDR              R1,=LED3_ON
  152 000000AE 6001            STR              R1,[R0]
  153 000000B0 F44F 70FA       MOV              r0,#0x1f4
  154 000000B4 F7FF FFFE       BL               Delay_Ms    ; delay 500ms
  155 000000B8 481A            LDR              R0,=GPIOC_ODR
  156 000000BA F04F 0100       LDR              R1,=LED3_OFF
  157 000000BE 6001            STR              R1,[R0]
  158 000000C0 F44F 70FA       MOV              r0,#0x1f4



ARM Macro Assembler    Page 5 


  159 000000C4         
  160 000000C4 4817            LDR              R0,=GPIOC_ODR
  161 000000C6 F04F 0104       LDR              R1,=LED2_ON
  162 000000CA 6001            STR              R1,[R0]
  163 000000CC F44F 70FA       MOV              r0,#0x1f4
  164 000000D0 F7FF FFFE       BL               Delay_Ms    ; delay 500ms
  165 000000D4 4813            LDR              R0,=GPIOC_ODR
  166 000000D6 F04F 0100       LDR              R1,=LED2_OFF
  167 000000DA 6001            STR              R1,[R0]
  168 000000DC F44F 70FA       MOV              r0,#0x1f4
  169 000000E0         
  170 000000E0 4810            LDR              R0,=GPIOC_ODR
  171 000000E2 F04F 0102       LDR              R1,=LED1_ON
  172 000000E6 6001            STR              R1,[R0]
  173 000000E8 F44F 70FA       MOV              r0,#0x1f4
  174 000000EC F7FF FFFE       BL               Delay_Ms    ; delay 500ms
  175 000000F0 480C            LDR              R0,=GPIOC_ODR
  176 000000F2 F04F 0100       LDR              R1,=LED1_OFF
  177 000000F6 6001            STR              R1,[R0]
  178 000000F8 F44F 70FA       MOV              r0,#0x1f4
  179 000000FC         
  180 000000FC 4809            LDR              R0,=GPIOC_ODR
  181 000000FE F04F 0101       LDR              R1,=LED0_ON
  182 00000102 6001            STR              R1,[R0]
  183 00000104 F44F 70FA       MOV              r0,#0x1f4
  184 00000108 F7FF FFFE       BL               Delay_Ms    ; delay 500ms
  185 0000010C 4805            LDR              R0,=GPIOC_ODR
  186 0000010E F04F 0100       LDR              R1,=LED0_OFF
  187 00000112 6001            STR              R1,[R0]
  188 00000114 F44F 70FA       MOV              r0,#0x1f4
  189 00000118         
  190 00000118 E78E            B                |loop|
  191 0000011A                 ENDP                         ; the end of the su
                                                            b-function
  192 0000011A         
  193 0000011A                 END
              00 00 40023830 
              40020800 
              40020814 
Command Line: --debug --xref --cpu=Cortex-M4.fp --apcs=interwork --depend=.\obj
ects\main.d -o.\objects\main.o -ID:\Keil_v5\ARM\RV31\INC -ID:\Keil_v5\ARM\PACK\
ARM\CMSIS\3.20.4\CMSIS\Include -ID:\Keil_v5\ARM\PACK\Keil\STM32F4xx_DFP\1.0.8\D
evice\Include --predefine="__EVAL SETA 1" --list=.\listings\main.lst main.s



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

GPIOC 00000000

Symbol: GPIOC
   Definitions
      At line 72 in file main.s
   Uses
      None
Comment: GPIOC unused
loop 00000038

Symbol: loop
   Definitions
      At line 109 in file main.s
   Uses
      At line 190 in file main.s
Comment: loop used once
main 00000004

Symbol: main
   Definitions
      At line 75 in file main.s
   Uses
      At line 65 in file main.s
Comment: main used once
|i.main| 00000000

Symbol: |i.main|
   Definitions
      At line 70 in file main.s
   Uses
      None
Comment: |i.main| unused
4 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Absolute symbols

GPIOC_BASE 40020800

Symbol: GPIOC_BASE
   Definitions
      At line 22 in file main.s
   Uses
      At line 26 in file main.s
      At line 27 in file main.s

GPIOC_EN 00000004

Symbol: GPIOC_EN
   Definitions
      At line 36 in file main.s
   Uses
      At line 82 in file main.s
Comment: GPIOC_EN used once
GPIOC_MODER 40020800

Symbol: GPIOC_MODER
   Definitions
      At line 26 in file main.s
   Uses
      At line 88 in file main.s
Comment: GPIOC_MODER used once
GPIOC_MODER_OFFSET 00000000

Symbol: GPIOC_MODER_OFFSET
   Definitions
      At line 23 in file main.s
   Uses
      At line 26 in file main.s
Comment: GPIOC_MODER_OFFSET used once
GPIOC_ODR 40020814

Symbol: GPIOC_ODR
   Definitions
      At line 27 in file main.s
   Uses
      At line 110 in file main.s
      At line 115 in file main.s
      At line 120 in file main.s
      At line 125 in file main.s
      At line 130 in file main.s
      At line 135 in file main.s
      At line 140 in file main.s
      At line 145 in file main.s
      At line 150 in file main.s
      At line 155 in file main.s
      At line 160 in file main.s
      At line 165 in file main.s
      At line 170 in file main.s
      At line 175 in file main.s
      At line 180 in file main.s
      At line 185 in file main.s

GPIOC_ODR_OFFSET 00000014

Symbol: GPIOC_ODR_OFFSET



ARM Macro Assembler    Page 2 Alphabetic symbol ordering
Absolute symbols

   Definitions
      At line 24 in file main.s
   Uses
      At line 27 in file main.s
Comment: GPIOC_ODR_OFFSET used once
LED0_OFF 00000000

Symbol: LED0_OFF
   Definitions
      At line 48 in file main.s
   Uses
      At line 186 in file main.s
Comment: LED0_OFF used once
LED0_ON 00000001

Symbol: LED0_ON
   Definitions
      At line 47 in file main.s
   Uses
      At line 181 in file main.s
Comment: LED0_ON used once
LED1_OFF 00000000

Symbol: LED1_OFF
   Definitions
      At line 50 in file main.s
   Uses
      At line 176 in file main.s
Comment: LED1_OFF used once
LED1_ON 00000002

Symbol: LED1_ON
   Definitions
      At line 49 in file main.s
   Uses
      At line 171 in file main.s
Comment: LED1_ON used once
LED2_OFF 00000000

Symbol: LED2_OFF
   Definitions
      At line 52 in file main.s
   Uses
      At line 166 in file main.s
Comment: LED2_OFF used once
LED2_ON 00000004

Symbol: LED2_ON
   Definitions
      At line 51 in file main.s
   Uses
      At line 161 in file main.s
Comment: LED2_ON used once
LED3_OFF 00000000

Symbol: LED3_OFF
   Definitions
      At line 54 in file main.s
   Uses



ARM Macro Assembler    Page 3 Alphabetic symbol ordering
Absolute symbols

      At line 156 in file main.s
Comment: LED3_OFF used once
LED3_ON 00000008

Symbol: LED3_ON
   Definitions
      At line 53 in file main.s
   Uses
      At line 151 in file main.s
Comment: LED3_ON used once
LED4_OFF 00000000

Symbol: LED4_OFF
   Definitions
      At line 56 in file main.s
   Uses
      At line 146 in file main.s
Comment: LED4_OFF used once
LED4_ON 00000010

Symbol: LED4_ON
   Definitions
      At line 55 in file main.s
   Uses
      At line 141 in file main.s
Comment: LED4_ON used once
LED5_OFF 00000000

Symbol: LED5_OFF
   Definitions
      At line 58 in file main.s
   Uses
      At line 136 in file main.s
Comment: LED5_OFF used once
LED5_ON 00000020

Symbol: LED5_ON
   Definitions
      At line 57 in file main.s
   Uses
      At line 131 in file main.s
Comment: LED5_ON used once
LED6_OFF 00000000

Symbol: LED6_OFF
   Definitions
      At line 60 in file main.s
   Uses
      At line 126 in file main.s
Comment: LED6_OFF used once
LED6_ON 00000040

Symbol: LED6_ON
   Definitions
      At line 59 in file main.s
   Uses
      At line 121 in file main.s
Comment: LED6_ON used once
LED7_OFF 00000000



ARM Macro Assembler    Page 4 Alphabetic symbol ordering
Absolute symbols


Symbol: LED7_OFF
   Definitions
      At line 62 in file main.s
   Uses
      At line 116 in file main.s
Comment: LED7_OFF used once
LED7_ON 00000080

Symbol: LED7_ON
   Definitions
      At line 61 in file main.s
   Uses
      At line 111 in file main.s
Comment: LED7_ON used once
MODER0_OUT 00000001

Symbol: MODER0_OUT
   Definitions
      At line 38 in file main.s
   Uses
      At line 90 in file main.s
Comment: MODER0_OUT used once
MODER1_OUT 00000004

Symbol: MODER1_OUT
   Definitions
      At line 39 in file main.s
   Uses
      At line 91 in file main.s
Comment: MODER1_OUT used once
MODER2_OUT 00000010

Symbol: MODER2_OUT
   Definitions
      At line 40 in file main.s
   Uses
      At line 92 in file main.s
Comment: MODER2_OUT used once
MODER3_OUT 00000040

Symbol: MODER3_OUT
   Definitions
      At line 41 in file main.s
   Uses
      At line 93 in file main.s
Comment: MODER3_OUT used once
MODER4_OUT 00000100

Symbol: MODER4_OUT
   Definitions
      At line 42 in file main.s
   Uses
      At line 94 in file main.s
Comment: MODER4_OUT used once
MODER5_OUT 00000400

Symbol: MODER5_OUT
   Definitions



ARM Macro Assembler    Page 5 Alphabetic symbol ordering
Absolute symbols

      At line 43 in file main.s
   Uses
      At line 95 in file main.s
Comment: MODER5_OUT used once
MODER6_OUT 00001000

Symbol: MODER6_OUT
   Definitions
      At line 44 in file main.s
   Uses
      At line 96 in file main.s
Comment: MODER6_OUT used once
MODER7_OUT 00004000

Symbol: MODER7_OUT
   Definitions
      At line 45 in file main.s
   Uses
      At line 97 in file main.s
Comment: MODER7_OUT used once
RCC_AHB1ENR 40023830

Symbol: RCC_AHB1ENR
   Definitions
      At line 34 in file main.s
   Uses
      At line 78 in file main.s
Comment: RCC_AHB1ENR used once
RCC_AHB1ENR_OFFSET 00000030

Symbol: RCC_AHB1ENR_OFFSET
   Definitions
      At line 32 in file main.s
   Uses
      At line 34 in file main.s
Comment: RCC_AHB1ENR_OFFSET used once
RCC_BASE 40023800

Symbol: RCC_BASE
   Definitions
      At line 31 in file main.s
   Uses
      At line 34 in file main.s
Comment: RCC_BASE used once
__ARM_use_no_argv 00000000

Symbol: __ARM_use_no_argv
   Definitions
      At line 18 in file main.s
   Uses
      At line 64 in file main.s
Comment: __ARM_use_no_argv used once
34 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
External symbols

Delay_Init 00000000

Symbol: Delay_Init
   Definitions
      At line 67 in file main.s
   Uses
      At line 100 in file main.s
Comment: Delay_Init used once
Delay_Ms 00000000

Symbol: Delay_Ms
   Definitions
      At line 68 in file main.s
   Uses
      At line 114 in file main.s
      At line 124 in file main.s
      At line 134 in file main.s
      At line 144 in file main.s
      At line 154 in file main.s
      At line 164 in file main.s
      At line 174 in file main.s
      At line 184 in file main.s

2 symbols
374 symbols in table
